[mysqld]

# InnoDB settings

#  This is usually recommended as it avoids having a huge shared tablespace
# and as it allows you to reclaim space when you drop or truncate a table.
# Separate tablespace also benefits for Xtrabackup partial backup scheme.
innodb_file_per_table
innodb_buffer_pool_size     = 2G
innodb_log_file_size        = 512M # 25% of buffer pool size
;innodb_lock_wait_timeout    = 80

;innodb_buffer_pool_size     = 4G
;innodb_io_capacity          = 2000
;innodb_thread_concurrency   = 0
;innodb_read_io_threads      = 64
;innodb_write_io_threads     = 64

# Performance tuning

log-queries-not-using-indexes   = 1
log_slow_queries    = /var/log/mysql/mysql-slow.log
query_cache_limit   = 2M
query_cache_size    = 32M

table_cache         = 256
sort_buffer_size    = 4M
read_buffer_size    = 1M
join_buffer_size    = 1M

key_buffer          = 32M
max_allowed_packet  = 128M

thread_stack        = 384K
thread_cache_size   = 16